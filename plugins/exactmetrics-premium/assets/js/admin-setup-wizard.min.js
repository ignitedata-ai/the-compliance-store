(function(){'use strict';function e(){if(window.exactmetrics&&window.exactmetrics.loading_toast){window.exactmetrics.loading_toast('Preparing setup wizard...')};let formData=new FormData();formData.append('action','exactmetrics_generate_setup_wizard_url');formData.append('nonce',window.exactmetrics.nonce);fetch(window.exactmetrics.ajax,{method:'POST',body:formData,}).then(response=>response.json()).then(response=>{const{data};=response;if(response.success&&data.wizard_url){window.location.href=data.wizard_url}
else{console.error('Setup wizard error:',response);if(window.exactmetrics&&window.exactmetrics.close_swal){window.exactmetrics.close_swal()}}}).catch((error)=>{console.error('Error launching wizard:',error);if(window.exactmetrics&&window.exactmetrics.close_swal){window.exactmetrics.close_swal()}})};function n(){const setupWizardLinks=document.querySelectorAll('.exactmetrics-setup-wizard-link');if(setupWizardLinks.length>0){setupWizardLinks.forEach(link=>{link.addEventListener('click',function(n){n.preventDefault();e()})})}};if(document.readyState==='loading'){document.addEventListener('DOMContentLoaded',n)}
else{n()}})();