import{m as _,d as v,n as c,V as y,M as w}from"./vendor-69fa03c8.min.js";import{S as p}from"./SettingsInfoTooltip-4d8deea5.min.js";import{S as k}from"./ContentIconList-9f7afaf0.min.js";const b=""+new URL("../../img/license-modal-plus-exactmetrics.gif",import.meta.url).href,$=""+new URL("../../img/license-modal-pro-exactmetrics.gif",import.meta.url).href,C=""+new URL("../../img/license-modal-agency-exactmetrics.gif",import.meta.url).href,{__:n,sprintf:d}=wp.i18n,L={name:"SettingsInputLicenseSite",components:{SettingsInfoTooltip:p},data(){return{is_loading:!1,has_error:!1,text_license_key_network:n("Your license key has been set at the network level of your WordPress Multisite.","exactmetrics-premium"),text_license_key_network_2:n("If you would like to use a different license for this subsite, you can enter it below.","exactmetrics-premium"),text_license_no_key_subsite:n("No license key activated on this subsite","exactmetrics-premium"),text_license_type:d(n("Your license key type for this site is %s. ","exactmetrics-premium"),'<span class="exactmetrics-dark">%s</span>'),text_license_refresh:n("Refresh Key","exactmetrics-premium"),text_license_refresh_tooltip:d(n("Click %1$sRefresh Key%2$s if your license has been recently upgraded or the license type is incorrect. ","exactmetrics-premium"),"<strong>","</strong>"),text_license_verify:n("Verify","exactmetrics-premium"),text_license_update:n("Change Key","exactmetrics-premium"),text_license_deactivate:n("Deactivate this license key","exactmetrics-premium"),text_license_placeholder:n("Paste your license key here","exactmetrics-premium"),text_license_label_site:d(n("Add your ExactMetrics license key from the email receipt or account area. %1$sRetrieve your license key%2$s.","exactmetrics-premium"),'<a href="'+this.$getUrl("license","settings_panel","https://www.exactmetrics.com/my-account/")+'" target="_blank">',"</a>"),text_license_label_network:n("The license key is used to enable updates for ExactMetrics Pro and addons, as well enable the ability to view reports. Deactivate your license if you want to use it on another WordPress site.","exactmetrics-premium"),updated_license:!1,license_changed:!1,text_license_expired_1:n("Your license key has expired. Reactivate the current license, or ","exactmetrics-premium"),text_license_expired_2:n("click here to deactivate","exactmetrics-premium"),text_license_expired_3:n(" and add a new one.","exactmetrics-premium"),text_license_expired_reactivate:n("Reactivate This License","exactmetrics-premium"),link_reactivate_license:this.$getUrl("license","settings_panel","https://www.exactmetrics.com/my-account/"),exit_url:this.$mi.exit_url}},computed:{..._({license:"$_license/license",license_network:"$_license/license_network"}),license_key:{get(){return this.updated_license!==!1?this.updated_license:this.license.key},set(s){this.updated_license=s}},text_license_verify_button(){return this.license_changed?this.text_license_update:this.text_license_verify},getLicenseType(){return this.license_network.type&&!this.license.type?this.text_license_no_key_subsite:this.license&&this.license.type?d(this.text_license_type,this.license.is_agency?"Agency":this.license.type):""}},methods:{sprintf:d,getLabel(){return this.license_network.type?this.text_license_label_network:this.text_license_label_site},fieldInput:v(function(s){this.updateLicense(s)},500),updateLicense:function(s){if(s.target.value==="")return!1;const e=this;this.is_loading=!0,this.$mi_saving_toast({title:n("Verifying License","exactmetrics-premium")}),this.$emit("verify-license-start"),e.has_error=!1,this.$store.dispatch("$_license/updateLicense",s.target.value).then(function(t){e.is_loading=!1,e.$swal.close(),e.$emit("verify-license-end"),t.data.success===!1?(e.has_error=t.data.data.error,e.$mi_error_toast({})):(e.has_error=!1,e.license_changed=!1,e.showSuccessModal(t.data.data))})},verifyLicense:function(s){const e=this;this.$swal({icon:"info",title:n("Verifying License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"exactmetrics-swal"},didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/verifyLicense",e.license_key).then(function(t){e.$swal.close(),t.data.success?(e.$store.dispatch("$_license/removeLicenseNotices"),s?window.location=e.exit_url:e.$swal({icon:"info",title:n("Success","exactmetrics-premium"),html:t.data.data.message,confirmButtonText:n("Ok","exactmetrics-premium"),customClass:{container:"exactmetrics-swal"}})):(e.$store.dispatch("$_license/addLicenseNotices"),e.$swal({icon:"error",title:n("There was an error verifying your license","exactmetrics-premium"),html:t.data.data.error,confirmButtonText:n("Ok","exactmetrics-premium"),customClass:{container:"exactmetrics-swal"}}))})},refreshLicense:function(s){s.preventDefault();const e=this;this.$swal({icon:"info",title:n("Refreshing License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"exactmetrics-swal exactmetrics-swal-loading exactmetrics-swal-full-height"},loaderHtml:e.$getCustomLoaderHtml(),didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/validateLicense").then(function(t){e.$swal.close(),t.data.success?(e.$store.dispatch("$_license/removeLicenseNotices"),e.$swal({icon:"info",title:n("Success","exactmetrics-premium"),html:'<div class="exactmetrics-swal-icons"><i class="monstericon-comment-alt-check"></i><i class="monstericon-comment-alt-check"></i><i class="monstericon-comment-alt-check"></i><i class="monstericon-comment-alt-check"></i></div><p>'+t.data.data.message+"</p>",confirmButtonText:d(n("Continue %s","exactmetrics-premium"),'<i class="monstericon-long-arrow-right-light"></i>'),customClass:{container:"exactmetrics-swal exactmetrics-swal-succcess"}})):(e.$store.dispatch("$_license/addLicenseNotices"),e.$swal({customClass:{container:"exactmetrics-swal exactmetrics-swal-succcess"},icon:"error",title:n("There was an error refreshing your license","exactmetrics-premium"),html:'<div class="exactmetrics-swal-icons"><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i></div><p>'+t.data.data.error+"</p>",confirmButtonText:d(n("Continue %s","exactmetrics-premium"),'<i class="monstericon-long-arrow-right-light"></i>')}))})},deactivateLicense:function(s){s.preventDefault();const e=this;this.$swal({icon:"info",title:n("Deactivating License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"exactmetrics-swal exactmetrics-swal-loading exactmetrics-swal-full-height"},loaderHtml:e.$getCustomLoaderHtml(),didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/deactivateLicense").then(function(t){e.$swal.close(),t.data.success?e.$swal({icon:"info",title:n("Success","exactmetrics-premium"),html:'<div class="exactmetrics-swal-icons"><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i></div><p>'+t.data.data.message+"</p>",confirmButtonText:d(n("Continue %s","exactmetrics-premium"),'<i class="monstericon-long-arrow-right-light"></i>'),customClass:{container:"exactmetrics-swal exactmetrics-swal-succcess"}}):e.$swal({customClass:{container:"exactmetrics-swal exactmetrics-swal-succcess"},icon:"error",title:n("There was an error deactivating your license","exactmetrics-premium"),html:'<div class="exactmetrics-swal-icons"><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i><i class="monstericon-exclamation-em-solid"></i></div><p>'+t.data.data.error+"</p>",confirmButtonText:d(n("Continue %s","exactmetrics-premium"),'<i class="monstericon-long-arrow-right-light"></i>')})})},deactivateExpiredLicense:function(s){s.preventDefault();const e=this;this.$swal({icon:"info",title:n("Deactivating License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"exactmetrics-swal"},didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/deactivateExpiredLicense").then(function(t){e.$swal.close(),t.data.success?window.location=e.exit_url:e.$swal({icon:"error",title:n("There was an error deactivating your license","exactmetrics-premium"),html:t.data.data.error,confirmButtonText:n("Ok","exactmetrics-premium"),customClass:{container:"exactmetrics-swal"}})})},isLicenseExpired(){return!!(typeof this.license<"u"&&this.license&&this.license.is_expired)},isNetworkLicenseExpired(){return!!(typeof this.license_network<"u"&&this.license_network&&this.license_network.is_expired)},showSuccessModal(s){let e=b,t=n("Plus Subscription Activated","exactmetrics-premium"),i=this.plusModalFeatureList();s.is_agency?(e=C,t=n("Agency Subscription Activated","exactmetrics-premium"),i=this.proModalFeatureList()):s.license_type==="pro"&&(e=$,t=n("Pro Subscription Activated","exactmetrics-premium"),i=this.proModalFeatureList());let a='<div class="exactmetrics-swal-license-modal-image"><img src="'+e+'" /></div>';a+='<div class="exactmetrics-license-modal-content">',a+='<div class="exactmetrics-license-modal-content-pre-heading">ðŸŽ‰ '+n("Thanks For Upgrading","exactmetrics-premium")+" ðŸŽ‰</div>",a+="<h2>"+t+"</h2>",a+='<div class="exactmetrics-license-modal-content-post-heading">'+n("You now have access to these features:","exactmetrics-premium")+"</div>",a+="<ul>";for(let l of i)a+="<li>"+l+"</li>";a+="</ul>",a+='<div class="exactmetrics-license-modal-content-post-list">'+n("and much much more...","exactmetrics-premium")+"</div>",a+="</div>",this.$swal({html:a,customClass:{container:"exactmetrics-swal exactmetrics-swal-license-modal"},confirmButtonText:n("Get Started","exactmetrics-premium"),showCloseButton:!0})},plusModalFeatureList(){return[n("EU Compliance Addon","exactmetrics-premium"),n("UTM & Campaign Reporting","exactmetrics-premium"),n("Forms Reporting","exactmetrics-premium"),n("Date Ranges & Selections","exactmetrics-premium"),n("Search Keywords Reports","exactmetrics-premium"),n("Awesome Support","exactmetrics-premium")]},proModalFeatureList(){return[n("eCommerce Tracking","exactmetrics-premium"),n("Zero Code PPC Tracking","exactmetrics-premium"),n("Media Tracking Addon","exactmetrics-premium"),n("User Journeys","exactmetrics-premium"),n("Advanced Custom Dimensions","exactmetrics-premium"),n("Priority Support","exactmetrics-premium")]}}};var S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"exactmetrics-settings-license-site"},[e.isLicenseExpired()||e.isNetworkLicenseExpired()?t("div",[t("label",[t("span",[e._v(e._s(e.text_license_expired_1))]),t("a",{attrs:{href:"#",title:""},on:{click:e.deactivateExpiredLicense}},[e._v(e._s(e.text_license_expired_2))]),t("span",[e._v(e._s(e.text_license_expired_3))])])]):t("div",[e.license.type&&e.license.key||e.license_network.type&&e.license_network.key?t("div",{staticClass:"exactmetrics-license-type-text"},[!e.license.is_invalid&&e.license.type?t("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.refreshLicense.apply(null,arguments)}}},[t("span",{domProps:{textContent:e._s(e.text_license_refresh)}})]):e._e(),t("settings-info-tooltip",{attrs:{content:e.text_license_refresh_tooltip}})],1):t("label",{attrs:{for:"exactmetrics-license-key"},domProps:{innerHTML:e._s(e.getLabel())}})]),e.license.is_invalid||e.license.type===""?t("div",[t("input",{class:{"exactmetrics-has-error":e.has_error},attrs:{id:"exactmetrics-license-key",readonly:e.is_loading,type:"text",autocomplete:"off",placeholder:e.text_license_placeholder},domProps:{value:e.license.key},on:{input:e.fieldInput}})]):e._e(),e.isLicenseExpired()||e.isNetworkLicenseExpired()?t("div",[!e.license.is_invalid&&e.license.type?t("div",{staticClass:"inline-field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.license_key,expression:"license_key"}],class:{"exactmetrics-has-error":e.has_error},attrs:{id:"exactmetrics-license-key-valid",type:"text",autocomplete:"off",placeholder:e.text_license_placeholder},domProps:{value:e.license_key},on:{input:[function(i){i.target.composing||(e.license_key=i.target.value)},function(i){e.license_changed=!0}]}}),t("a",{staticClass:"exactmetrics-button",attrs:{href:"#",title:e.text_license_expired_reactivate},domProps:{textContent:e._s(e.text_license_expired_reactivate)},on:{click:function(i){return e.verifyLicense(!0)}}})]):e._e()]):t("div",[!e.license.is_invalid&&e.license.type?t("div",{staticClass:"inline-field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.license_key,expression:"license_key"}],class:{"exactmetrics-has-error":e.has_error},attrs:{id:"exactmetrics-license-key-valid",type:"text",autocomplete:"off",placeholder:e.text_license_placeholder},domProps:{value:e.license_key},on:{input:[function(i){i.target.composing||(e.license_key=i.target.value)},function(i){e.license_changed=!0}]}}),e.license_changed?t("button",{staticClass:"exactmetrics-button",domProps:{textContent:e._s(e.text_license_verify_button)},on:{click:function(i){return e.verifyLicense(!1)}}}):e._e()]):e._e()]),e.has_error?t("label",{staticClass:"exactmetrics-error license-key-error"},[t("i",{staticClass:"monstericon-warning-triangle"}),t("span",{domProps:{innerHTML:e._s(e.has_error)}})]):e._e(),e.license.type&&e.license.key||e.license_network.type&&e.license_network.key?t("div",{staticClass:"exactmetrics-license-type-text"},[t("span",{domProps:{innerHTML:e._s(e.getLicenseType)}}),!e.isLicenseExpired()&&!e.isNetworkLicenseExpired()?t("span",[!e.license.is_invalid&&e.license.type?t("button",{staticClass:"exactmetrics-button exactmetrics-button-text",domProps:{textContent:e._s(e.text_license_deactivate)},on:{click:e.deactivateLicense}}):e._e()]):e._e()]):e._e()])},P=[],T=c(L,S,P,!1,null,null,null,null);const O=T.exports,{__:r,sprintf:f}=wp.i18n,N={name:"SettingsInputLicenseNetwork",components:{SettingsInfoTooltip:p},props:{label:String},data(){return{is_loading:!1,has_error:!1,text_license_type:f(r("Your license key type for this site is %s. ","exactmetrics-premium"),'<span class="exactmetrics-dark">%s</span>'),text_license_refresh:r("Refresh Key.","exactmetrics-premium"),text_license_verify:r("Verify","exactmetrics-premium"),text_license_deactivate:r("Deactivate this license key","exactmetrics-premium"),text_license_placeholder:r("Paste your license key here","exactmetrics-premium"),text_license_refresh_tooltip:f(r("Click %1$sRefresh Key%2$s if your license has been recently upgraded or the license type is incorrect. ","exactmetrics-premium"),"<strong>","</strong>"),text_license_update:r("Change Key","exactmetrics-premium"),license_changed:!1,text_license_expired_1:r("Your license key has expired. Reactivate the current license, or ","exactmetrics-premium"),text_license_expired_2:r("click here to deactivate","exactmetrics-premium"),text_license_expired_3:r(" and add a new one.","exactmetrics-premium"),text_license_expired_reactivate:r("Reactivate This License","exactmetrics-premium"),link_reactivate_license:this.$getUrl("license","settings_panel","https://www.exactmetrics.com/my-account/"),exit_url:this.$mi.exit_url}},computed:{..._({license_network:"$_license/license_network"}),license_key:{get(){return this.updated_license?this.updated_license:this.license_network.key},set(s){this.updated_license=s}},text_license_verify_button(){return this.license_changed?this.text_license_update:this.text_license_verify}},methods:{sprintf:f,fieldInput:v(function(s){this.updateLicense(s)},500),updateLicense:function(s){if(s.target.value==="")return!1;this.is_loading=!0;const e=this;this.$mi_saving_toast({title:r("Verifying License","exactmetrics-premium")}),e.has_error=!1,this.$store.dispatch("$_license/updateNetworkLicense",s.target.value).then(function(t){e.is_loading=!1,t.data.success===!1?(e.has_error=t.data.data.error,e.$mi_error_toast({})):(e.has_error=!1,e.$mi_success_toast({}))})},verifyLicense:function(s){const e=this;this.$swal({icon:"info",title:r("Verifying License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/verifyLicense",e.license_key).then(function(t){e.$swal.close(),t.data.success?s?window.location=e.exit_url:e.$swal({icon:"info",title:r("Success","exactmetrics-premium"),text:t.data.data.message,confirmButtonText:r("Ok","exactmetrics-premium")}):e.$swal({icon:"error",title:r("There was an error verifying your license","exactmetrics-premium"),html:t.data.data.error,confirmButtonText:r("Ok","exactmetrics-premium")})})},refreshLicense:function(s){s.preventDefault();const e=this;this.$swal({icon:"info",title:r("Refreshing License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/validateLicense",!0).then(function(t){e.$swal.close(),t.data.success?e.$swal({icon:"info",title:r("Success","exactmetrics-premium"),text:t.data.data.message,confirmButtonText:r("Ok","exactmetrics-premium")}):e.$swal({icon:"error",title:r("There was an error refreshing your license","exactmetrics-premium"),text:t.data.data.error,confirmButtonText:r("Ok","exactmetrics-premium")})})},deactivateLicense:function(s){s.preventDefault();const e=this;this.$swal({icon:"info",title:r("Deactivating License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/deactivateLicense",!0).then(function(t){e.$swal.close(),t.data.success?e.$swal({icon:"info",title:r("Success","exactmetrics-premium"),text:t.data.data.message,confirmButtonText:r("Ok","exactmetrics-premium")}):e.$swal({icon:"error",title:r("There was an error deactivating your license","exactmetrics-premium"),text:t.data.data.error,confirmButtonText:r("Ok","exactmetrics-premium")})})},deactivateExpiredLicense:function(s){s.preventDefault();const e=this;this.$swal({icon:"info",title:r("Deactivating License","exactmetrics-premium"),allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,customClass:{container:"exactmetrics-swal"},didOpen:function(){e.$swal.showLoading()}}),this.$store.dispatch("$_license/deactivateExpiredLicense",{network:!0}).then(function(t){e.$swal.close(),t.data.success?window.location=e.exit_url:e.$swal({icon:"error",title:r("There was an error deactivating your license","exactmetrics-premium"),html:t.data.data.error,confirmButtonText:r("Ok","exactmetrics-premium"),customClass:{container:"exactmetrics-swal"}})})},isNetworkLicenseExpired(){return!!(this.license_network!=="undefined"&&this.license_network.is_expired)},getLicenseType(){return(this.license.is_agency===!0||this.license_network.is_agency===!0)&&(this.license.type="agency"),this.license_network.type&&!this.license.type?this.text_license_no_key_subsite:f(this.text_license_type,this.license.type)}}};var R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"exactmetrics-settings-license-network"},[e.isNetworkLicenseExpired()?t("div",[t("label",[t("span",[e._v(e._s(e.text_license_expired_1))]),t("a",{attrs:{href:"#",title:""},on:{click:e.deactivateExpiredLicense}},[e._v(e._s(e.text_license_expired_2))]),t("span",[e._v(e._s(e.text_license_expired_3))])])]):t("div",[e.license_network.type&&e.license_network.key?t("div",{staticClass:"exactmetrics-license-type-text"},[t("span",{domProps:{innerHTML:e._s(e.getLicenseType())}}),t("a",{attrs:{href:"#"},on:{click:function(i){return i.preventDefault(),e.refreshLicense.apply(null,arguments)}}},[t("span",{domProps:{textContent:e._s(e.text_license_refresh)}}),t("settings-info-tooltip",{attrs:{content:e.text_license_refresh_tooltip}})],1)]):e._e()]),e.license_network.is_invalid||e.license_network.type===""?t("div",[t("input",{class:{"exactmetrics-has-error":e.has_error},attrs:{id:"exactmetrics-license-network-key",readonly:e.is_loading,type:"text",autocomplete:"off",placeholder:e.text_license_placeholder},domProps:{value:e.license_network.key},on:{input:e.updateLicense}})]):e._e(),e.isNetworkLicenseExpired()?t("div",[!e.license_network.is_invalid&&e.license_network.type?t("div",{staticClass:"inline-field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.license_key,expression:"license_key"}],class:{"exactmetrics-has-error":e.has_error},attrs:{id:"exactmetrics-license-key-valid",type:"text",autocomplete:"off",placeholder:e.text_license_placeholder},domProps:{value:e.license_key},on:{input:[function(i){i.target.composing||(e.license_key=i.target.value)},function(i){e.license_changed=!0}]}}),t("a",{staticClass:"exactmetrics-button",attrs:{href:"#",title:e.text_license_expired_reactivate},domProps:{textContent:e._s(e.text_license_expired_reactivate)},on:{click:function(i){return e.verifyLicense(!0)}}})]):e._e()]):t("div",[!e.license_network.is_invalid&&e.license_network.type?t("div",{staticClass:"inline-field"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.license_key,expression:"license_key"}],class:{"exactmetrics-has-error":e.has_error},attrs:{id:"exactmetrics-license-key-valid",type:"text",autocomplete:"off",placeholder:e.text_license_placeholder},domProps:{value:e.license_key},on:{input:[function(i){i.target.composing||(e.license_key=i.target.value)},function(i){e.license_changed=!0}]}}),e.license_changed?t("button",{staticClass:"exactmetrics-button",domProps:{textContent:e._s(e.text_license_verify)},on:{click:function(i){return e.verifyLicense(!1)}}}):e._e()]):e._e(),t("button",{staticClass:"exactmetrics-button exactmetrics-button-text",domProps:{textContent:e._s(e.text_license_deactivate)},on:{click:e.deactivateLicense}})]),e.has_error?t("label",{staticClass:"exactmetrics-error license-key-error"},[t("i",{staticClass:"monstericon-warning-triangle"}),t("span",{domProps:{innerHTML:e._s(e.has_error)}})]):e._e()])},E=[],A=c(N,R,E,!1,null,null,null,null);const M=A.exports,D={name:"SettingsInputLicense",components:{SettingsInputLicenseSite:O,SettingsInputLicenseNetwork:M},data(){return{is_network:this.$mi.network}},methods:{forwardStart(){this.$emit("verify-license-start")},forwardEnd(){this.$emit("verify-license-end")}}};var H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"settings-input settings-input-license"},[e.is_network?t("settings-input-license-network",{on:{"verify-license-start":e.forwardStart,"verify-license-end":e.forwardEnd}}):t("settings-input-license-site",{on:{"verify-license-start":e.forwardStart,"verify-license-end":e.forwardEnd}})],1)},I=[],B=c(D,H,I,!1,null,null,null,null);const $e=B.exports;const K={name:"SettingsNetworkNotice"};var F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"exactmetrics-settings-network-notice"},[e._m(0),t("div",{staticClass:"exactmetrics-network-message"},[e._t("default")],2)])},V=[function(){var s=this,e=s._self._c;return e("div",[e("div",{staticClass:"exactmetrics-bg-img exactmetrics-icon-warning"})])}],U=c(K,F,V,!1,null,"50389526",null,null);const Ce=U.exports;const{__:g}=wp.i18n,Y={name:"SettingsInputText",components:{SettingsInfoTooltip:p},props:{name:String,label:String,description:String,placeholder:String,type:{type:String,default:"text"},tooltip:String,default_value:String,format:RegExp,auth_disabled:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},validate:Function},data(){return{is_loading:!1,has_error:!1,id:"input-"+this.name,text_reset:g("Reset to default","exactmetrics-premium"),text_error:g("The value entered does not match the required format","exactmetrics-premium"),updated_value:!1}},computed:{..._({settings:"$_settings/settings",auth:"$_auth/auth"}),has_v4(){return this.$mi.network?this.auth.network_v4||this.auth.network_manual_v4:this.auth.v4||this.auth.manual_v4},value:{get(){return this.updated_value!==!1?this.updated_value:this.settings[this.name]},set(s){return this.updated_value=s}},tooltip_data(){return{content:this.disabled?this.$mi_need_to_auth:"",autoHide:!1,trigger:"hover focus click"}},disabled(){return this.auth_disabled?!this.has_v4:!1}},methods:{inputUpdate:function(s){this.updateSetting(s.target.name,s.target.value)},updateSetting:function(s,e){if(this.disabled)return!1;if(this.has_error=!1,this.format&&!this.format.test(e))return this.has_error=!0,!1;if(this.validate){let t=this.validate(e);if(t.success!==!0)return this.text_error=t.error_text,this.has_error=!0,!1;t.value&&(e=t.value)}this.$mi_saving_toast({}),this.value=e,this.$store.dispatch("$_settings/updateSettings",{name:s,value:e}).then(t=>{t.success?this.$mi_success_toast({}):this.$mi_error_toast({})})},showReset(){return this.default_value&&this.settings[this.name]!==this.default_value},resetValue(){return this.updateSetting(this.name,this.default_value)}}};var J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"settings-input-text"},[e.label||e.description||e.tooltip?t("label",{attrs:{for:e.id}},[t("span",{staticClass:"exactmetrics-dark",domProps:{innerHTML:e._s(e.label)}}),e.description?t("span",{domProps:{innerHTML:e._s(e.description)}}):e._e(),e.showReset()?t("a",{staticClass:"exactmetrics-reset-default",attrs:{href:"#"},domProps:{textContent:e._s(e.text_reset)},on:{click:function(i){return i.preventDefault(),e.resetValue.apply(null,arguments)}}}):e._e(),e.tooltip?t("settings-info-tooltip",{attrs:{content:e.tooltip}}):e._e()],1):e._e(),t("div",{staticClass:"settings-input-text-input"},[e.type==="checkbox"?t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"tooltip",rawName:"v-tooltip",value:e.tooltip_data,expression:"tooltip_data"}],attrs:{id:e.id,name:e.name,placeholder:e.placeholder,readonly:e.disabled||e.readonly,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:[function(i){var a=e.value,l=i.target,u=!!l.checked;if(Array.isArray(a)){var o=null,m=e._i(a,o);l.checked?m<0&&(e.value=a.concat([o])):m>-1&&(e.value=a.slice(0,m).concat(a.slice(m+1)))}else e.value=u},e.inputUpdate]}}):e.type==="radio"?t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"tooltip",rawName:"v-tooltip",value:e.tooltip_data,expression:"tooltip_data"}],attrs:{id:e.id,name:e.name,placeholder:e.placeholder,readonly:e.disabled||e.readonly,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{change:[function(i){e.value=null},e.inputUpdate]}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"tooltip",rawName:"v-tooltip",value:e.tooltip_data,expression:"tooltip_data"}],attrs:{id:e.id,name:e.name,placeholder:e.placeholder,readonly:e.disabled||e.readonly,type:e.type},domProps:{value:e.value},on:{change:e.inputUpdate,input:function(i){i.target.composing||(e.value=i.target.value)}}})]),e.has_error?t("label",{staticClass:"exactmetrics-error"},[t("i",{staticClass:"monstericon-warning-triangle"}),t("span",{domProps:{innerHTML:e._s(e.text_error)}})]):e._e()])},W=[],q=c(Y,J,W,!1,null,"b6917bbd",null,null);const Le=q.exports,G={name:"SettingsInputCheckbox",components:{SlideDownUp:k,SettingsInfoTooltip:p},props:{name:String,label:String,description:String,tooltip:String,faux:Boolean,faux_tooltip:String,faux_tooltip_off:String,valueOn:String,valueOff:String,default:{type:Boolean,default:!0},auth_disabled:{type:Boolean,default:!0}},data(){return{is_loading:!1,has_error:!1,slotCollapsibleVisible:!1}},computed:{..._({settings:"$_settings/settings",auth:"$_auth/auth"}),has_tag(){return this.auth_disabled?this.$mi.network?this.auth.network_v4||this.auth.network_manual_v4:this.auth.v4||this.auth.manual_v4:!0},hasCollapsibleSlot(){return this.$slots.collapsible},hasLabelSlot(){return this.$slots.label},iconClass(){let s="monstericon-arrow";return this.slotCollapsibleVisible&&(s+=" monstericon-down"),s},componentClass(){let s="exactmetrics-settings-input-checkbox";return this.$slots.collapsible&&(s+=" has-collapsible"),s},checked:{get(){let s=this.valueOn?this.valueOn===this.settings[this.name]:this.settings[this.name];return this.faux?this.default:s},set(s){let e=this.valueOff?this.valueOff:!1;s&&(e=this.valueOn?this.valueOn:!0),this.updateSetting(e)}},tooltip_data(){return{content:this.faux_tooltip_text,autoHide:!1,trigger:"hover focus click"}},faux_tooltip_text(){return this.has_tag?this.checked?this.faux_tooltip:this.faux_tooltip_off:this.$mi_need_to_auth},disabled(){return this.has_tag?this.faux:!0}},watch:{checked:function(s){this.$emit("checkboxChange",s),this.slotCollapsibleVisible=s}},methods:{stopClick:function(s){!s.target.classList.contains("exactmetrics-styled-checkbox")&&!s.target.classList.contains("exactmetrics-checkbox-label")?(this.toggleCollapsible(s),s.stopPropagation()):this.checked=!this.checked},updateSetting:function(s){if(this.disabled)return!1;this.$mi_saving_toast({}),this.$store.dispatch("$_settings/updateSettings",{name:this.name,value:s}).then(e=>{e.success?(this.$emit("checkbox_option_updated"),this.$mi_success_toast({})):this.$mi_error_toast({})})},toggleCollapsible:function(s){s.preventDefault(),s.stopPropagation(),this.slotCollapsibleVisible=!this.slotCollapsibleVisible},labelClass(){let s="exactmetrics-styled-checkbox";return this.checked&&(s+=" exactmetrics-styled-checkbox-checked"),s}},created(){this.slotCollapsibleVisible=this.checked}};var z=function(){var e=this,t=e._self._c;return t("div",{class:e.componentClass},[t("label",{class:e.disabled?"exactmetrics-styled-checkbox-faux":"",on:{click:function(i){return i.preventDefault(),e.stopClick.apply(null,arguments)},keyup:[function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.stopClick.apply(null,arguments)},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"space",32,i.key,[" ","Spacebar"])?null:e.stopClick.apply(null,arguments)}]}},[t("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip_data,expression:"tooltip_data"}],class:e.labelClass(),attrs:{tabindex:e.faux?"":0}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",name:e.name,disabled:e.disabled},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(i){var a=e.checked,l=i.target,u=!!l.checked;if(Array.isArray(a)){var o=null,m=e._i(a,o);l.checked?m<0&&(e.checked=a.concat([o])):m>-1&&(e.checked=a.slice(0,m).concat(a.slice(m+1)))}else e.checked=u}}}),e.label?t("span",{staticClass:"exactmetrics-checkbox-label",domProps:{innerHTML:e._s(e.label)}}):e._e(),e.hasLabelSlot?t("span",{staticClass:"exactmetrics-checkbox-label"},[e._t("label")],2):e._e(),e.description?t("span",{staticClass:"exactmetrics-checkbox-description",domProps:{innerHTML:e._s(e.description)}}):e._e(),e.tooltip?t("settings-info-tooltip",{attrs:{content:e.tooltip}}):e._e(),e.hasCollapsibleSlot?t("span",{staticClass:"exactmetrics-settings-input-toggle-collapsible",attrs:{role:"button"},on:{keyup:[function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"enter",13,i.key,"Enter")?null:e.toggleCollapsible.apply(null,arguments)},function(i){return!i.type.indexOf("key")&&e._k(i.keyCode,"space",32,i.key,[" ","Spacebar"])?null:e.toggleCollapsible.apply(null,arguments)}]}},[t("i",{class:e.iconClass,attrs:{tabindex:"0",onkeypress:"if(event.keyCode==32||event.keyCode==13){return false;};"}})]):e._e()],1),t("slide-down-up",[e.slotCollapsibleVisible&&e.hasCollapsibleSlot?t("div",{staticClass:"exactmetrics-collapsible"},[e.hasCollapsibleSlot?t("div",{staticClass:"exactmetrics-separator"}):e._e(),t("div",{staticClass:"exactmetrics-collapsible-content"},[e._t("collapsible")],2)]):e._e()])],1)},Z=[],j=c(G,z,Z,!1,null,null,null,null);const Se=j.exports,{__:h,sprintf:Q}=wp.i18n,X={name:"SettingsInputRepeater",props:{structure:Array,name:String,text_add:String,delete_icon:{type:String,default:"monstericon-times-circle"},max_items:{type:Number,default:-1},min_items:{type:Number,default:-1},max_item_error_notice:{type:String,default:h("You can add maximum 5 items.","exactmetrics-premium")},min_item_error_notice:{type:String,default:h("At least 0 item required.","exactmetrics-premium")}},data(){return{text_add_path:this.text_add?this.text_add:h("Add Another Link Path","exactmetrics-premium"),text_remove_row:h("Remove row","exactmetrics-premium"),has_errors:[],show_max_item_error:!1,show_min_item_error:!1}},computed:{..._({settings:"$_settings/settings",auth:"$_auth/auth"}),rows:{get:function(){return this.settings[this.name]||y.set(this.settings,this.name,[]),JSON.parse(JSON.stringify(this.settings[this.name]))},set:function(){this.updateSetting(!1)}},has_v4(){return this.$mi.network?this.auth.network_v4||this.auth.network_manual_v4:this.auth.v4||this.auth.manual_v4},disabled(){return!this.has_v4},tooltip_data(){return{content:this.has_v4?"":this.$mi_need_to_auth,autoHide:!1,trigger:"hover focus click"}},button_class(){let s="exactmetrics-button";return this.disabled&&(s+=" exactmetrics-button-disabled"),s}},methods:{updateSetting:function(s){if(this.disabled||!s&&!this.validateSettings())return!1;this.$mi_saving_toast({}),this.$store.dispatch("$_settings/updateSettings",{name:this.name,value:this.rows}).then(e=>{e.success?this.$mi_success_toast({}):this.$mi_error_toast({})})},addRow:function(){let s={};if(this.rows.length===this.max_items){this.show_max_item_error=!0;return}for(let e in this.structure)s[this.structure[e].name]="";this.rows.push(s),this.rows.length!==this.min_items&&(this.show_min_item_error=!1),this.updateSetting(!0)},removeRow:function(s){if(this.rows.length===this.min_items){this.show_min_item_error=!0;return}this.rows&&this.rows instanceof Array?this.rows.splice(s,1):this.rows="",this.rows.length!==this.max_items&&(this.show_max_item_error=!1),this.updateSetting()},validateSettings(){this.has_errors=[];let s={};for(let e in this.rows)for(let t in this.structure){if(this.rows[e][this.structure[t].name]===""){this.has_errors[e]=Q(h("%s can't be empty.","exactmetrics-premium"),"<strong>"+this.structure[t].label+"</strong>");break}if(this.structure[t].pattern&&this.structure[t].pattern.test(this.rows[e][this.structure[t].name])===!1){this.has_errors[e]=this.structure[t].error;break}if(this.structure[t].prevent_duplicates){typeof s[this.structure[t].name]>"u"&&(s[this.structure[t].name]=[]),s[this.structure[t].name].push(this.rows[e][this.structure[t].name]);const i=s[this.structure[t].name];let a=()=>i.filter((l,u)=>i.indexOf(l)===u);i.length!==a().length&&(this.has_errors[e]=h("Duplicate values are not allowed.","exactmetrics-premium"))}}return this.has_errors.length===0},errorClass(s,e){return this.rows[s][e]===""?"":this.has_errors[s]?"exactmetrics-input-error":"exactmetrics-input-valid"}}};var ee=function(){var e=this,t=e._self._c;return t("div",{staticClass:"exactmetrics-settings-input-repeater"},[e.rows.length?t("div",{staticClass:"exactmetrics-settings-input-repeater-labels exactmetrics-settings-input-repeater-row"},e._l(e.structure,function(i,a){return t("label",{key:a,domProps:{textContent:e._s(i.label)}})}),0):e._e(),e._l(e.rows,function(i,a){return[t("div",{key:a,staticClass:"exactmetrics-settings-input-repeater-row"},[e._l(e.structure,function(l,u){return t("span",{key:u,class:e.errorClass(a,l.name)},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.rows[a][l.name],expression:"rows[index][input.name]"}],attrs:{type:"text",readonly:e.disabled},domProps:{value:e.rows[a][l.name]},on:{change:function(o){return e.updateSetting(!1,l.pattern)},input:function(o){o.target.composing||e.$set(e.rows[a],l.name,o.target.value)}}})])}),t("button",{attrs:{title:e.text_remove_row},on:{click:function(l){return l.preventDefault(),e.removeRow(a)}}},[t("i",{class:e.delete_icon})])],2),e.has_errors[a]?t("label",{key:a+"error",staticClass:"exactmetrics-error"},[t("i",{staticClass:"monstericon-warning-triangle"}),t("span",{domProps:{innerHTML:e._s(e.has_errors[a])}})]):e._e()]}),e.show_max_item_error?t("label",{staticClass:"exactmetrics-error"},[t("i",{staticClass:"monstericon-warning-triangle"}),t("span",{domProps:{innerHTML:e._s(e.max_item_error_notice)}})]):e._e(),e.show_min_item_error?t("label",{staticClass:"exactmetrics-error"},[t("i",{staticClass:"monstericon-warning-triangle"}),t("span",{domProps:{innerHTML:e._s(e.min_item_error_notice)}})]):e._e(),t("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip_data,expression:"tooltip_data"}],class:e.button_class,domProps:{textContent:e._s(e.text_add_path)},on:{click:function(i){return i.preventDefault(),e.addRow.apply(null,arguments)}}})],2)},te=[],se=c(X,ee,te,!1,null,null,null,null);const Pe=se.exports,x={isThemeAvailable(){return!0},canaccess(s,e="pro"){let t=!1;switch(e){case"master":t=s==="master";break;case"pro":t=s==="master"||s==="pro";break;case"plus":t=s==="master"||s==="pro"||s==="plus";break;case"basic":t=s==="master"||s==="pro"||s==="plus"||s==="basic";break;case"lite":default:t=!0;break}return t}},ie={name:"PopularPostsProPill",props:{level:{type:String,default:"pro"}},computed:{..._({license:"$_license/license",license_network:"$_license/license_network"}),licenseType(){return this.$mi.network?this.license_network.type:this.license.type},canaccess(){return x.canaccess(this.licenseType,this.level)}}};var ne=function(){var e=this,t=e._self._c;return t("span",[e.canaccess?e._e():t("span",{staticClass:"exactmetrics-pro-pill"},[e._v("PRO")])])},ae=[],re=c(ie,ne,ae,!1,null,null,null,null);const le=re.exports,oe={name:"SettingsInputRadio",components:{PopularPostsProPill:le},props:{options:Array,name:String,auth_disabled:{type:Boolean,default:!0},classes:String},data(){return{is_loading:!1,has_error:!1}},computed:{..._({settings:"$_settings/settings",auth:"$_auth/auth",license:"$_license/license",license_network:"$_license/license_network"}),has_v4(){return this.$mi.network?this.auth.network_v4||this.auth.network_manual_v4:this.auth.v4||this.auth.manual_v4},tooltip_data(){return{content:this.disabled?this.$mi_need_to_auth:"",autoHide:!1,trigger:"hover focus click"}},disabled(){return this.auth_disabled?!this.has_v4:!1},licenseType(){return this.$mi.network?this.license_network.type:this.license.type}},methods:{optionAvailable(s){return x.canaccess(this.licenseType,s)},updateSetting:function(s){if(this.disabled)return!1;this.$emit("change",s.target.value),this.$mi_saving_toast({}),this.$store.dispatch("$_settings/updateSettings",{name:this.name,value:s.target.value}).then(e=>{e.success?(this.$emit("updated",s.target.value),this.$mi_success_toast({})):this.$mi_error_toast({})})},titleClass(s){let e="exactmetrics-styled-radio";return this.isChecked(s)&&(e+=" exactmetrics-styled-radio-checked"),e},labelClass(s){let e="";return this.isChecked(s.value)&&(e+=" exactmetrics-styled-radio-label-checked"),s.level&&!this.optionAvailable(s.level)&&(e+=" exactmetrics-styled-radio-label-disabled"),e},isChecked(s){return this.settings[this.name]?s===this.settings[this.name]:s===this.options[0].value}}};var ce=function(){var e=this,t=e._self._c;return t("fieldset",[t("div",{staticClass:"exactmetrics-settings-input-radio",class:e.classes},e._l(e.options,function(i){return t("span",{key:i.value},[t("label",{class:e.labelClass(i),attrs:{for:"exactmetrics-settings-radio-"+e.name+"["+i.value+"]"}},[t("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tooltip_data,expression:"tooltip_data"}],class:e.titleClass(i.value)}),t("input",{attrs:{id:"exactmetrics-settings-radio-"+e.name+"["+i.value+"]",type:"radio",name:e.name,autocomplete:"off",readonly:e.disabled||i.level&&!e.optionAvailable(i.level)},domProps:{value:i.value,checked:e.isChecked(i.value)},on:{change:e.updateSetting}}),t("span",{staticClass:"exactmetrics-settings-radio-text",domProps:{innerHTML:e._s(i.label)}}),i.level?t("PopularPostsProPill",{attrs:{level:i.level}}):e._e()],1),e.$slots[i.value]&&e.isChecked(i.value)?t("span",{staticClass:"exactmetrics-radio-sub-panel"},[e.isChecked(i.value)?e._t(i.value):e._e()],2):e._e()])}),0)])},ue=[],me=c(oe,ce,ue,!1,null,null,null,null);const Te=me.exports;const{__:de}=wp.i18n,_e={name:"SettingsInputSelect",components:{SettingsInfoTooltip:p,Multiselect:w},props:{options:Array,forced:{type:Array,default:()=>[]},name:String,label:String,description:String,multiple:{type:Boolean,default:!1},tooltip:String,disabled:{type:Boolean,default:!1},addtext:String},data(){return{is_loading:!1,has_error:!1,id:"input-"+this.name,text_no_options:de("No options available","exactmetrics-premium")}},computed:{..._({settings:"$_settings/settings"}),selected:{get:function(){let s=JSON.parse(JSON.stringify(this.forced));if(this.settings[this.name])for(let e in this.options)this.settings[this.name].indexOf(this.options[e].value)>=0&&this.notForced(this.options[e])&&s.push(this.options[e]);return s},set:function(){}},disabled_tooltip(){return{content:this.disabled?this.$mi_need_to_auth:"",autoHide:!1,trigger:"hover focus click"}}},methods:{updateSetting:function(s){if(this.disabled)return!1;this.$mi_saving_toast({});let e=[];for(let t in s)e.push(s[t].value);this.$store.dispatch("$_settings/updateSettings",{name:this.name,value:e}).then(t=>{t.success?this.$mi_success_toast({}):this.$mi_error_toast({})})},notForced:function(s){for(let e in this.forced)if(this.forced[e].value===s.value)return!1;return!0},tagClass(s){let e="multiselect__tag";return this.notForced(s)||(e+=" exactmetrics-tag-forced"),e}}};var he=function(){var e=this,t=e._self._c;return t("div",{staticClass:"exactmetrics-settings-input-select"},[e.label?t("label",{attrs:{for:e.id}},[t("span",{staticClass:"exactmetrics-dark",domProps:{innerHTML:e._s(e.label)}}),e.description?t("span",{domProps:{innerHTML:e._s(e.description)}}):e._e(),e.tooltip?t("settings-info-tooltip",{attrs:{content:e.tooltip}}):e._e()],1):e._e(),t("div",{staticClass:"exactmetrics-settings-input-select-input"},[t("multiselect",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.disabled_tooltip,expression:"disabled_tooltip"}],attrs:{options:e.options,multiple:e.multiple,"track-by":"value",label:"label",searchable:!1,selectLabel:"",selectedLabel:"",deselectLabel:"",readonly:e.disabled},on:{input:e.updateSetting},scopedSlots:e._u([{key:"selection",fn:function({remove:i,values:a}){return[t("div",{staticClass:"multiselect__tags-wrap",attrs:{"data-text":e.addtext}},e._l(a,function(l,u){return t("span",{key:u,class:e.tagClass(l),on:{mousedown:function(o){o.preventDefault()}}},[t("span",{domProps:{textContent:e._s(l.label)}}),t("i",{staticClass:"multiselect__tag-icon",attrs:{"aria-hidden":"true",tabindex:"0"},on:{keypress:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:(o.preventDefault(),i(l))},mousedown:function(o){return o.preventDefault(),i(l)}}})])}),0)]}}]),model:{value:e.selected,callback:function(i){e.selected=i},expression:"selected"}})],1)])},pe=[],fe=c(_e,he,pe,!1,null,"3faf9748",null,null);const Oe=fe.exports,ge={name:"WelcomeOverlay",props:{id:String},methods:{close(){this.$emit("close",this.id)},maybeClose(s){s.target.classList.contains("exactmetrics-welcome-overlay")&&this.close()}}};var ve=function(){var e=this,t=e._self._c;return t("div",{staticClass:"exactmetrics-welcome-overlay",attrs:{id:e.id},on:{click:e.maybeClose}},[t("div",{staticClass:"exactmetrics-welcome-overlay-inner"},[t("button",{staticClass:"exactmetrics-overlay-close",on:{click:e.close}},[t("span",{staticClass:"monstericon-times"})]),t("div",{staticClass:"exactmetrics-welcome-overlay-content"},[e._t("default")],2)])])},xe=[],ye=c(ge,ve,xe,!1,null,null,null,null);const Ne=ye.exports;export{x as P,Ce as S,Ne as W,Le as a,$e as b,Se as c,Pe as d,Te as e,Oe as f,le as g,M as h};
